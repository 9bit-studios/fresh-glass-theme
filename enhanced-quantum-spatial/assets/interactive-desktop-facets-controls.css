/* ========================================
   INTERACTIVE DESKTOP FACETS CONTROLS
   Replace redundant "Filters" title with interactive tools
   Phase 11 Collection Page Enhancements
   ======================================== */

/* ========================================
   PROBLEM ANALYSIS & SOLUTION
   ======================================== */
/*
  ISSUE: Desktop "Filters" title is redundant and takes up valuable space
  - .facets--filters-title just says "Filters" which is obvious
  - Desktop has space for more interactive controls
  - Mobile filter toggle provides better UX pattern
  
  SOLUTION: Replace with interactive filter management tools
  - Quick filter toggle buttons
  - Active filters count indicator  
  - Filter preset options
  - Clear all shortcut
  - Similar to mobile's interactive approach
*/

/* ========================================
   HIDE REDUNDANT FILTERS TITLE ON DESKTOP
   Replace with interactive controls
   ======================================== */

@media (min-width: 750px) {
  .facets--filters-title {
    display: none !important;
  }
  
  /* Ensure we have space for interactive controls */
  .facets-controls-wrapper {
    min-height: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 0.75rem 0 !important;
    gap: 1rem !important;
  }
}

/* ========================================
   INTERACTIVE CONTROLS CONTAINER
   Houses all the new interactive elements
   ======================================== */

.interactive-facets-controls {
  display: flex !important;
  align-items: center !important;
  gap: 1rem !important;
  padding: 0.5rem 0 !important;
  background: var(--unified-glass-subtle) !important;
  backdrop-filter: var(--unified-backdrop-subtle) !important;
  -webkit-backdrop-filter: var(--unified-backdrop-subtle) !important;
  border: 1px solid var(--unified-quantum-border, rgba(99, 102, 241, 0.3)) !important;
  border-radius: 12px !important;
  padding: 0.75rem 1rem !important;
  margin-bottom: 1rem !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.interactive-facets-controls:hover {
  border-color: var(--unified-quantum-border-hover, rgba(99, 102, 241, 0.6)) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 16px rgba(99, 102, 241, 0.2) !important;
}

/* ========================================
   ACTIVE FILTERS COUNT INDICATOR
   Shows number of currently applied filters
   ======================================== */

.active-filters-indicator {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  background: var(--unified-glass-medium) !important;
  backdrop-filter: var(--unified-backdrop-medium) !important;
  -webkit-backdrop-filter: var(--unified-backdrop-medium) !important;
  border: 1px solid var(--unified-quantum-border, rgba(99, 102, 241, 0.3)) !important;
  border-radius: 8px !important;
  padding: 0.4rem 0.75rem !important;
  color: rgba(255, 255, 255, 0.9) !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.active-filters-indicator:hover {
  border-color: var(--unified-quantum-border-hover, rgba(99, 102, 241, 0.6)) !important;
  transform: translateY(-1px) !important;
}

.active-filters-indicator .filter-icon {
  width: 16px !important;
  height: 16px !important;
  opacity: 0.8 !important;
  transition: opacity 0.3s ease !important;
}

.active-filters-indicator:hover .filter-icon {
  opacity: 1 !important;
}

.active-filters-count {
  background: var(--unified-quantum-primary, #6366F1) !important;
  color: white !important;
  border-radius: 50% !important;
  width: 20px !important;
  height: 20px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  min-width: 20px !important;
}

.active-filters-count.zero {
  background: rgba(255, 255, 255, 0.2) !important;
  color: rgba(255, 255, 255, 0.6) !important;
}

/* ========================================
   QUICK FILTER TOGGLE BUTTONS
   Common filter shortcuts for better UX
   ======================================== */

.quick-filter-toggles {
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
}

.quick-filter-button {
  background: var(--unified-glass-subtle) !important;
  backdrop-filter: var(--unified-backdrop-subtle) !important;
  -webkit-backdrop-filter: var(--unified-backdrop-subtle) !important;
  border: 1px solid var(--unified-quantum-border, rgba(99, 102, 241, 0.3)) !important;
  border-radius: 6px !important;
  padding: 0.3rem 0.6rem !important;
  color: rgba(255, 255, 255, 0.8) !important;
  font-size: 0.8125rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  text-decoration: none !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.25rem !important;
  min-height: 32px !important;
}

.quick-filter-button:hover {
  background: var(--unified-glass-medium) !important;
  border-color: var(--unified-quantum-border-hover, rgba(99, 102, 241, 0.6)) !important;
  color: rgba(255, 255, 255, 1) !important;
  transform: translateY(-1px) !important;
}

.quick-filter-button.active {
  background: var(--unified-quantum-primary, #6366F1) !important;
  border-color: var(--unified-quantum-primary, #6366F1) !important;
  color: white !important;
  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3) !important;
}

.quick-filter-button.active:hover {
  background: var(--unified-quantum-secondary, #8B5CF6) !important;
  transform: translateY(-1px) scale(1.02) !important;
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4) !important;
}

/* ========================================
   FILTER PRESETS DROPDOWN
   Quick access to common filter combinations
   ======================================== */

.filter-presets-dropdown {
  position: relative !important;
  display: inline-block !important;
}

.filter-presets-button {
  background: var(--unified-glass-medium) !important;
  backdrop-filter: var(--unified-backdrop-medium) !important;
  -webkit-backdrop-filter: var(--unified-backdrop-medium) !important;
  border: 1px solid var(--unified-quantum-border, rgba(99, 102, 241, 0.3)) !important;
  border-radius: 8px !important;
  padding: 0.5rem 0.75rem !important;
  color: rgba(255, 255, 255, 0.9) !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  min-height: 36px !important;
}

.filter-presets-button:hover {
  border-color: var(--unified-quantum-border-hover, rgba(99, 102, 241, 0.6)) !important;
  transform: translateY(-1px) !important;
}

.filter-presets-button .dropdown-arrow {
  width: 12px !important;
  height: 12px !important;
  opacity: 0.7 !important;
  transition: all 0.3s ease !important;
}

.filter-presets-dropdown[open] .dropdown-arrow {
  opacity: 1 !important;
  transform: rotate(180deg) !important;
}

.filter-presets-menu {
  position: absolute !important;
  top: calc(100% + 0.5rem) !important;
  left: 0 !important;
  right: 0 !important;
  background: var(--unified-glass-prominent) !important;
  backdrop-filter: var(--unified-backdrop-blur) !important;
  -webkit-backdrop-filter: var(--unified-backdrop-blur) !important;
  border: 1px solid var(--unified-quantum-border, rgba(99, 102, 241, 0.3)) !important;
  border-radius: 12px !important;
  box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
  z-index: 1000 !important;
  padding: 0.5rem !important;
  min-width: 200px !important;
  opacity: 0 !important;
  transform: translateY(-10px) !important;
  visibility: hidden !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.filter-presets-dropdown[open] .filter-presets-menu {
  opacity: 1 !important;
  transform: translateY(0) !important;
  visibility: visible !important;
}

.filter-preset-item {
  display: block !important;
  width: 100% !important;
  padding: 0.5rem 0.75rem !important;
  background: transparent !important;
  border: none !important;
  border-radius: 6px !important;
  color: rgba(255, 255, 255, 0.8) !important;
  font-size: 0.875rem !important;
  text-align: left !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  text-decoration: none !important;
}

.filter-preset-item:hover {
  background: var(--unified-glass-medium) !important;
  color: rgba(255, 255, 255, 1) !important;
  transform: translateX(2px) !important;
}

/* ========================================
   ENHANCED CLEAR ALL BUTTON
   Better positioned and styled within controls
   ======================================== */

.interactive-clear-all {
  background: transparent !important;
  border: 1px solid rgba(255, 100, 100, 0.4) !important;
  color: rgba(255, 100, 100, 0.8) !important;
  border-radius: 8px !important;
  padding: 0.5rem 0.75rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  display: inline-flex !important;
  align-items: center !important;
  gap: 0.5rem !important;
  min-height: 36px !important;
}

.interactive-clear-all:hover {
  background: rgba(255, 100, 100, 0.1) !important;
  border-color: rgba(255, 100, 100, 0.6) !important;
  color: rgba(255, 100, 100, 1) !important;
  transform: translateY(-1px) !important;
}

.interactive-clear-all .clear-icon {
  width: 14px !important;
  height: 14px !important;
  opacity: 0.8 !important;
  transition: opacity 0.3s ease !important;
}

.interactive-clear-all:hover .clear-icon {
  opacity: 1 !important;
}

/* Hide when no active filters */
.interactive-clear-all.hidden {
  display: none !important;
}

/* ========================================
   RESPONSIVE BEHAVIOR
   Ensure controls work well across screen sizes
   ======================================== */

@media (min-width: 750px) and (max-width: 1024px) {
  .interactive-facets-controls {
    gap: 0.75rem !important;
  }
  
  .quick-filter-toggles {
    gap: 0.375rem !important;
  }
  
  .quick-filter-button {
    padding: 0.25rem 0.5rem !important;
    font-size: 0.75rem !important;
  }
}

@media (min-width: 1024px) {
  .interactive-facets-controls {
    justify-content: space-between !important;
  }
  
  .active-filters-indicator {
    margin-right: auto !important;
  }
}

/* ========================================
   ANIMATION ENHANCEMENTS
   Smooth transitions and micro-interactions
   ======================================== */

@keyframes filter-pulse {
  0%, 100% { 
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4);
  }
  50% { 
    box-shadow: 0 0 0 8px rgba(99, 102, 241, 0);
  }
}

.active-filters-count:not(.zero) {
  animation: filter-pulse 2s ease-in-out infinite !important;
}

.quick-filter-button.active::before {
  content: '' !important;
  position: absolute !important;
  inset: -2px !important;
  background: linear-gradient(45deg, var(--unified-quantum-primary), var(--unified-quantum-secondary)) !important;
  border-radius: inherit !important;
  z-index: -1 !important;
  opacity: 0.3 !important;
  transition: opacity 0.3s ease !important;
}

.quick-filter-button.active:hover::before {
  opacity: 0.5 !important;
}

/* ========================================
   ACCESSIBILITY ENHANCEMENTS
   Better focus states and keyboard navigation
   ======================================== */

.quick-filter-button:focus,
.filter-presets-button:focus,
.interactive-clear-all:focus {
  outline: 2px solid var(--unified-quantum-primary, #6366F1) !important;
  outline-offset: 2px !important;
  border-radius: 4px !important;
}

.active-filters-indicator[tabindex="0"]:focus {
  outline: 2px solid var(--unified-quantum-primary, #6366F1) !important;
  outline-offset: 2px !important;
}

/* Screen reader text for counts */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* ========================================
   HIGH CONTRAST MODE SUPPORT
   Enhanced visibility for accessibility
   ======================================== */

@media (prefers-contrast: high) {
  .interactive-facets-controls,
  .active-filters-indicator,
  .quick-filter-button,
  .filter-presets-button,
  .interactive-clear-all {
    border-width: 2px !important;
    border-color: rgba(255, 255, 255, 0.8) !important;
  }
  
  .quick-filter-button.active {
    border-color: var(--unified-quantum-primary, #6366F1) !important;
    background: var(--unified-quantum-primary, #6366F1) !important;
  }
}

/* ========================================
   IMPLEMENTATION COMPLETE
   Interactive Desktop Facets Controls
   Following Phase 11 Requirements
   ======================================== */